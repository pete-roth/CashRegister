"use strict";
///<reference path="../global.d.ts"/>
Object.defineProperty(exports, "__esModule", { value: true });
exports.loadFileConfigs = void 0;
/**
 * Created by tushar on 30/12/17.
 */
const fs = require("fs");
const R = require("ramda");
const JSON5 = require("json5");
const configPaths_1 = require("./configPaths");
const readAndParse = R.pipe((file) => fs.readFileSync(file, 'utf8'), JSON5.parse);
/**
 * Loads the configs provided in the {ConfigPaths}
 * If no config is found then an empty config is returned.
 * @param process {Process}
 * @return {defaultConfig, envConfig, deploymentConfig, userConfig}
 */
const loadFileConfigs = (process) => {
    const itar = R.mapObjIndexed(R.ifElse(fs.existsSync, readAndParse, R.always({})));
    return itar((0, configPaths_1.configPaths)(process));
};
exports.loadFileConfigs = loadFileConfigs;
